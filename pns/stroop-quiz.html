<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stroop Effect Quiz</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #fafafa;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      max-width: 500px;
      width: 100%;
      text-align: center;
    }

    .screen {
      display: none;
    }

    .screen.active {
      display: block;
    }

    /* Start Screen */
    .title {
      font-size: 2rem;
      font-weight: 600;
      color: #333;
      margin-bottom: 1rem;
    }

    .subtitle {
      font-size: 1rem;
      color: #666;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .btn {
      background: #333;
      color: #fff;
      border: none;
      padding: 14px 36px;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn:hover {
      background: #555;
    }

    /* Quiz Screen */
    .progress-container {
      height: 6px;
      background: #e0e0e0;
      border-radius: 3px;
      margin-bottom: 2rem;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: #333;
      border-radius: 3px;
      transition: width 0.1s linear;
    }

    .question-counter {
      font-size: 0.875rem;
      color: #999;
      margin-bottom: 1rem;
    }

    .prompt {
      font-size: 1rem;
      color: #666;
      margin-bottom: 1.5rem;
    }

    .color-word {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 2.5rem;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .option-btn {
      padding: 16px;
      font-size: 1.1rem;
      font-weight: 600;
      color: #333;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background: #fff;
      cursor: pointer;
      transition: border-color 0.2s, transform 0.1s;
      text-transform: capitalize;
    }

    .option-btn:hover {
      border-color: #999;
      transform: scale(1.02);
    }

    /* Results Screen */
    .result-score {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .result-score.pass {
      color: #2e7d32;
    }

    .result-score.fail {
      color: #c62828;
    }

    .result-status {
      font-size: 1.25rem;
      margin-bottom: 2rem;
      color: #666;
    }

    .breakdown {
      text-align: left;
      margin-bottom: 2rem;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
    }

    .breakdown-header {
      display: grid;
      grid-template-columns: 0.5fr 1.5fr 1fr 1fr;
      padding: 12px 16px;
      background: #f5f5f5;
      font-weight: 600;
      font-size: 0.75rem;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .breakdown-row {
      display: grid;
      grid-template-columns: 0.5fr 1.5fr 1fr 1fr;
      padding: 12px 16px;
      border-top: 1px solid #e0e0e0;
      font-size: 0.875rem;
      align-items: center;
    }

    .breakdown-row.correct {
      background: #f1f8e9;
    }

    .breakdown-row.incorrect {
      background: #ffebee;
    }

    .breakdown-question {
      font-weight: 600;
    }

    .breakdown-answer {
      text-transform: capitalize;
    }

    /* Info Section */
    .info-section {
      margin-top: 2.5rem;
      text-align: left;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #fff;
    }

    .info-section summary {
      padding: 14px 18px;
      font-weight: 600;
      font-size: 0.9rem;
      color: #555;
      cursor: pointer;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .info-section summary::-webkit-details-marker {
      display: none;
    }

    .info-section summary::after {
      content: '+';
      font-size: 1.2rem;
      font-weight: 400;
      color: #999;
    }

    .info-section[open] summary::after {
      content: '-';
    }

    .info-section[open] summary {
      border-bottom: 1px solid #e0e0e0;
    }

    .info-content {
      padding: 18px;
      font-size: 0.875rem;
      color: #555;
      line-height: 1.7;
    }

    .info-content h3 {
      font-size: 0.9rem;
      color: #333;
      margin-bottom: 0.5rem;
      margin-top: 1rem;
    }

    .info-content h3:first-child {
      margin-top: 0;
    }

    .info-content p {
      margin-bottom: 0.75rem;
    }

    .info-content ul {
      margin-left: 1.25rem;
      margin-bottom: 0.75rem;
    }

    .info-content li {
      margin-bottom: 0.35rem;
    }

    /* Color classes */
    .color-yellow { color: #f9a825; }
    .color-red { color: #c62828; }
    .color-purple { color: #7b1fa2; }
    .color-black { color: #212121; }
    .color-orange { color: #ef6c00; }
    .color-brown { color: #5d4037; }
    .color-green { color: #2e7d32; }
    .color-blue { color: #1565c0; }
    .color-pink { color: #d81b60; }
    .color-white { color: #9e9e9e; text-shadow: 0 0 1px #666; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Start Screen -->
    <div id="start-screen" class="screen active">
      <h1 class="title">Stroop Effect Quiz</h1>
      <p class="subtitle">
        You'll see color names displayed in different ink colors.<br>
        Your task: identify the <strong>INK COLOR</strong>, not the word.<br><br>
        10 questions &bull; 5 seconds each &bull; 70% to pass
      </p>
      <button class="btn" onclick="startQuiz()">Start Quiz</button>
      <details class="info-section">
        <summary>What is the Stroop Effect?</summary>
        <div class="info-content">
          <h3>The Stroop Effect</h3>
          <p>The Stroop Effect is a phenomenon in cognitive psychology where your brain experiences interference when processing conflicting information. When you see a color word printed in a different ink color (like "RED" written in blue), your brain struggles because reading is automatic, but identifying colors requires conscious effort.</p>

          <h3>Why It's Useful</h3>
          <p>This cognitive conflict is valuable for several reasons:</p>
          <ul>
            <li><strong>Measures cognitive flexibility</strong> - Your ability to suppress automatic responses and switch between tasks</li>
            <li><strong>Assesses attention control</strong> - How well you can focus on relevant information while ignoring distractions</li>
            <li><strong>Indicates processing speed</strong> - The time it takes to resolve conflicting information</li>
            <li><strong>Used clinically</strong> - Helps detect attention disorders, brain injuries, and cognitive decline</li>
          </ul>

          <h3>How This Quiz Helps</h3>
          <p>Regular practice with Stroop-type exercises can:</p>
          <ul>
            <li>Strengthen your prefrontal cortex (the brain's control center)</li>
            <li>Improve focus and concentration</li>
            <li>Enhance mental agility and response inhibition</li>
            <li>Serve as a quick cognitive warm-up before demanding tasks</li>
          </ul>
          <p>Try to beat your score and watch your cognitive control improve over time!</p>
        </div>
      </details>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="screen">
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <div class="question-counter" id="question-counter">Question 1 of 10</div>
      <p class="prompt">What color is the INK?</p>
      <div class="color-word" id="color-word">RED</div>
      <div class="options" id="options"></div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen">
      <div class="result-score" id="result-score">7/10</div>
      <div class="result-status" id="result-status">70% - PASS</div>
      <div class="breakdown" id="breakdown"></div>
      <button class="btn" id="retry-btn" onclick="startQuiz()">Try Again</button>
      <details class="info-section">
        <summary>What is the Stroop Effect?</summary>
        <div class="info-content">
          <h3>The Stroop Effect</h3>
          <p>The Stroop Effect is a phenomenon in cognitive psychology where your brain experiences interference when processing conflicting information. When you see a color word printed in a different ink color (like "RED" written in blue), your brain struggles because reading is automatic, but identifying colors requires conscious effort.</p>

          <h3>Why It's Useful</h3>
          <p>This cognitive conflict is valuable for several reasons:</p>
          <ul>
            <li><strong>Measures cognitive flexibility</strong> - Your ability to suppress automatic responses and switch between tasks</li>
            <li><strong>Assesses attention control</strong> - How well you can focus on relevant information while ignoring distractions</li>
            <li><strong>Indicates processing speed</strong> - The time it takes to resolve conflicting information</li>
            <li><strong>Used clinically</strong> - Helps detect attention disorders, brain injuries, and cognitive decline</li>
          </ul>

          <h3>How This Quiz Helps</h3>
          <p>Regular practice with Stroop-type exercises can:</p>
          <ul>
            <li>Strengthen your prefrontal cortex (the brain's control center)</li>
            <li>Improve focus and concentration</li>
            <li>Enhance mental agility and response inhibition</li>
            <li>Serve as a quick cognitive warm-up before demanding tasks</li>
          </ul>
          <p>Try to beat your score and watch your cognitive control improve over time!</p>
        </div>
      </details>
    </div>
  </div>

  <script>
    const COLORS = ['yellow', 'red', 'purple', 'black', 'orange', 'brown', 'green', 'blue', 'pink', 'white'];
    const TOTAL_QUESTIONS = 10;
    const TIME_PER_QUESTION = 5000;
    const PASS_THRESHOLD = 0.7;

    let questions = [];
    let currentQuestion = 0;
    let answers = [];
    let timerInterval = null;
    let timeLeft = 0;

    function generateQuestions() {
      questions = [];
      for (let i = 0; i < TOTAL_QUESTIONS; i++) {
        const wordColor = COLORS[Math.floor(Math.random() * COLORS.length)];
        let inkColor;
        do {
          inkColor = COLORS[Math.floor(Math.random() * COLORS.length)];
        } while (inkColor === wordColor);

        const otherColors = COLORS.filter(c => c !== inkColor);
        const wrongOptions = [];
        while (wrongOptions.length < 3) {
          const randomColor = otherColors[Math.floor(Math.random() * otherColors.length)];
          if (!wrongOptions.includes(randomColor)) {
            wrongOptions.push(randomColor);
          }
        }

        const options = [inkColor, ...wrongOptions];
        shuffleArray(options);

        questions.push({
          word: wordColor,
          ink: inkColor,
          options: options
        });
      }
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function startQuiz() {
      generateQuestions();
      currentQuestion = 0;
      answers = [];
      showScreen('quiz-screen');
      showQuestion();
    }

    function showQuestion() {
      const q = questions[currentQuestion];

      document.getElementById('question-counter').textContent =
        `Question ${currentQuestion + 1} of ${TOTAL_QUESTIONS}`;

      const colorWord = document.getElementById('color-word');
      colorWord.textContent = q.word;
      colorWord.className = `color-word color-${q.ink}`;

      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = '';

      q.options.forEach(color => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = color;
        btn.onclick = () => selectAnswer(color);
        optionsContainer.appendChild(btn);
      });

      startTimer();
    }

    function startTimer() {
      timeLeft = TIME_PER_QUESTION;
      updateProgressBar();

      if (timerInterval) clearInterval(timerInterval);

      timerInterval = setInterval(() => {
        timeLeft -= 100;
        updateProgressBar();

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          selectAnswer(null);
        }
      }, 100);
    }

    function updateProgressBar() {
      const percentage = (timeLeft / TIME_PER_QUESTION) * 100;
      document.getElementById('progress-bar').style.width = `${percentage}%`;
    }

    function selectAnswer(color) {
      if (timerInterval) clearInterval(timerInterval);

      answers.push({
        question: questions[currentQuestion],
        answer: color,
        correct: color === questions[currentQuestion].ink
      });

      currentQuestion++;

      if (currentQuestion < TOTAL_QUESTIONS) {
        showQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      showScreen('results-screen');

      const correctCount = answers.filter(a => a.correct).length;
      const percentage = (correctCount / TOTAL_QUESTIONS) * 100;
      const passed = percentage >= PASS_THRESHOLD * 100;

      const scoreEl = document.getElementById('result-score');
      scoreEl.textContent = `${correctCount}/${TOTAL_QUESTIONS}`;
      scoreEl.className = `result-score ${passed ? 'pass' : 'fail'}`;

      document.getElementById('result-status').textContent =
        `${percentage}% - ${passed ? 'PASS' : 'FAIL'}`;

      document.getElementById('retry-btn').textContent =
        passed ? 'Play Again' : 'Try Again';

      const breakdown = document.getElementById('breakdown');
      breakdown.innerHTML = `
        <div class="breakdown-header">
          <span>#</span>
          <span>Question</span>
          <span>Your Answer</span>
          <span>Correct</span>
        </div>
      `;

      answers.forEach((a, i) => {
        const row = document.createElement('div');
        row.className = `breakdown-row ${a.correct ? 'correct' : 'incorrect'}`;
        row.innerHTML = `
          <span>${i + 1}</span>
          <span class="breakdown-question">"<span class="color-${a.question.ink}">${a.question.word.toUpperCase()}</span>"</span>
          <span class="breakdown-answer ${a.answer ? 'color-' + a.answer : ''}">${a.answer || 'Timeout'}</span>
          <span class="breakdown-answer color-${a.question.ink}">${a.question.ink}</span>
        `;
        breakdown.appendChild(row);
      });
    }

    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
    }
  </script>
</body>
</html>
